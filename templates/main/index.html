## -*- coding: utf-8 -*-
<%inherit file="/index.html" />
<%def name="stylesheets()">
<link rel="stylesheet" type="text/css" href="/css/openlayers/style.css" media="screen, projection" />
</%def>
<div style="height:400px; width:950px; margin-top: 12px;" id="map"></div>
<%def name="javascripts()">
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAnnh3vADukoSiGDyFNhOAihT2yXp_ZAY8_ufC3CFXhHIE1NvwkxRFihSNGE3faXJghnYraM8YXUr8aQ"></script>
<script type="text/javascript" src="/js/openlayers.js"></script>
<script type="text/javascript">
google.load("jquery", "1.2.6");
google.load("maps", "2.x");
google.setOnLoadCallback(function() {
    if (GBrowserIsCompatible()) {
        var baseLayer = new OpenLayers.Layer.Google("google",
              { sphericalMercator: true });
        initMap(baseLayer);
    } else {
        console.log("Incompatible with Google maps");
    }
});
var mapId = "map";
var mapOptions = {
    projection: new OpenLayers.Projection("EPSG:4326"),
    displayProjection: new OpenLayers.Projection("EPSG:900913"),
    units: "m",
    maxResolution: 156543.0339,
    maxExtent: new OpenLayers.Bounds(-20037508.34, -20037508.34, 20037508.34, 20037508.34)
};
var map = new OpenLayers.Map(mapId, mapOptions);
var initMap = function(baseLayer) {
    map.addLayer(baseLayer);
    map.zoomToMaxExtent();
}
</script>
</%def>
